# Frontend Styling Strategy

## Overview

Our styling approach balances consistency, clarity, and scalability across the host and all MFEs. We lean on Tailwind for expressiveness, CSS variables for design tokens, and Angular‚Äôs component CSS for layout. This ensures visual alignment while keeping styles predictable and easy to maintain.

## Hierarchy Reference

- **styles.css + tailwind.config.cjs**: Global design tokens, CSS variables, and resets.
- **Component CSS (`*.component.css`)**: Layout mechanics only (flex, grid, sizing, positioning, keyframes if needed).
- **Component Templates (`*.component.html`)**: Tailwind utilities for tokens, spacing, colors, borders, radius, shadows, and interactive states.

## Detailed Strategy

- **Tailwind‚Äëfirst**: Use Tailwind utilities directly in templates for tokens (color, typography, spacing, radius) and interaction states (hover, focus, active).
- **CSS variables as tokens**: Define global design tokens in `styles.css` and map them into Tailwind. This ensures consistent theming across host and remotes.
- **Component CSS for structure**: Use `.component.css` only for layout mechanics (flex, grid, positioning), complex animations, or deep overrides of third‚Äëparty components.
- **Global styles for system**: `styles.css` also contains resets, theme variables, and cross‚Äëapp rules like scrollbars or focus outlines ‚Äî not component styling.
- **Shared config for consistency**: All MFEs and the host use the same Tailwind config + token system, keeping visuals aligned and theming predictable.

## Hierarchy of Choice

1. Tailwind utilities in templates (look & interaction)
2. Component CSS for layout & animations
3. Global styles for resets & design tokens

üëâ In short: Tailwind handles the look, tokens define the theme, and CSS files handle the structure when utilities fall short.

## Styling Pattern for Components

### Purpose

Give every component a consistent way to handle structure vs. style, keep templates DRY & declarative, and ensure tokens are the single source of truth for look & feel.

### Golden Rules (SOC)

1. Global (`styles.css` + Tailwind config): tokens & resets only.
2. Component CSS (`*.component.css`): layout mechanics only (flex/grid, sizing, positioning, overflow, z‚Äëindex, keyframes).
3. Template (`*.component.html`): inline Tailwind for tokens (colors, spacing, radius, shadows) + states (hover/focus/active/transitions).
4. No `@apply` for tokens in CSS. Use utilities inline.

### Component Skeleton (recommended)

`feature.component.ts`

- Standalone with explicit imports (e.g., `NgIf`, `NgFor`, `RouterLink`).
- Signals or inputs for state; arrays for repeated UI.

`feature.component.css` (layout only)

```css
:host { display:block; }
/* Example: card layout; no tokens */
.card {
  display: grid;
  grid-template-rows: auto 1fr auto;
}
```

`feature.component.html` (tokens & states inline)

```html
<div class="card rounded-lg border border-border bg-surface shadow-card">
  <header class="px-4 py-3 text-text/90">Title</header>
  <section class="px-4 py-3 text-muted">Body</section>
  <footer class="px-4 py-3 border-t border-border">
    <button class="h-9 px-3 rounded-md border border-border hover:bg-surface-2 transition-colors">
      Action
    </button>
  </footer>
</div>
```

### Decision Tree (where does a style go?)

- Does it change layout mechanics? (display, grid/flex, explicit widths/heights, positioning) ‚Üí Component CSS
- Is it a design token or state? (color, spacing, radius, border, shadow, hover/focus/active, transitions) ‚Üí Template utilities
- Is it global theming or reset? (tokens, scrollbar, base font) ‚Üí Global

### Naming Guidance (layout classes only)

- Use component‚Äëscoped class names for layout hooks: `.card`, `.row`, `.grid`, `.media`, `.meta`.
- Avoid ‚Äúutility‚Äësounding‚Äù names in CSS (like `.rounded`, `.border`, `.text-*`): those go in the template.

## Patterns by Common Component Type

### 1) Card

CSS (layout):

```css
.card { display:grid; grid-template-rows:auto 1fr auto; }
```

HTML (tokens):

```html
<div class="card rounded-xl border border-border bg-surface shadow-card">
  <div class="px-4 py-3 text-text/90">Header</div>
  <div class="px-4 py-3 text-muted">Content</div>
  <div class="px-4 py-3 border-t border-border">Footer</div>
</div>
```

### 2) List Item (icon | label | suffix)

CSS (layout):

```css
.item { display:grid; grid-template-columns:24px 1fr auto; align-items:center; }
.icon { width:24px; height:24px; display:grid; place-items:center; }
```

HTML (tokens):

```html
<a class="item gap-3 px-3 py-2 rounded-lg text-text border border-transparent hover:bg-surface-2 transition-colors">
  <span class="icon"><ng-icon name="heroHome" class="w-5 h-5"></ng-icon></span>
  <span class="truncate">Dashboard</span>
  <span class="ml-auto text-[12px] px-2 py-[2px] rounded-full bg-[hsl(var(--accent)/.18)] border border-[hsl(var(--accent)/.25)]">3</span>
</a>
```

### 3) Button Row

CSS (layout):

```css
.btnrow { display:flex; gap:8px; flex-wrap:wrap; }
```

HTML (tokens):

```html
<div class="btnrow">
  <button class="h-9 px-3 rounded-md border border-border hover:bg-surface-2">Cancel</button>
  <button class="h-9 px-3 rounded-md bg-[hsl(var(--accent))] text-[hsl(var(--bg))] hover:opacity-90">Save</button>
  </div>
```

## State & Variants (keep DX high)

- Use data‚Äëdriven flags (`@if`, `@for`) to toggle badges/dots/labels rather than duplicating markup.
- Prefer `routerLinkActive` (or bindings like `[class.selected]="..."`) to apply active styles inline.
- For disabled/loading, apply utility classes (`opacity-50` `pointer-events-none`, `animate-pulse`) based on boolean flags.

## Responsive Rules

- Keep responsive layout tweaks in component CSS (e.g., media queries changing `grid-template`).
- Keep responsive tokens inline with Tailwind breakpoints (`md:px-6`, `lg:gap-4`).
- Example:
  - CSS: `@media (min-width: 1024px) { .grid { grid-template-columns: 1fr 320px; } }`
  - HTML: `<section class="p-3 md:p-4 lg:p-6">‚Ä¶</section>`

## Animations

- Complex keyframes ‚Üí component CSS.
- Simple transitions ‚Üí inline (`transition`, `duration-200`, `ease-out`).
- Example:

```css
@keyframes fade-in { from{opacity:0} to{opacity:1} }
.fade-in { animation: fade-in .15s ease-out; }
```

## Accessibility Checklist

- Focus styles visible (`focus:ring-2` `focus:ring-[hsl(var(--accent)/.25)]`).
- `aria-current="page"` on active nav items.
- Icon‚Äëonly controls have `aria-label`.
- Color contrast adheres to WCAG (tokens are adjustable centrally).

## PR Checklist (quick)

- No tokens (colors, spacing, radius, shadows) in `*.component.css`.
- Template contains inline utilities for tokens & states.
- Layout (display/grid/flex/width/position) lives in `*.component.css`.
- Repeated structures rendered with `@for` and `track`.
- Control flow uses `@if` instead of deprecated `*ngIf` (when feasible).
- No `@apply` for token utilities; globals untouched except tokens/resets.

## Anti‚ÄëPatterns (avoid)

- Global ‚Äúutility‚Äù classes in `styles.css` (`.border`, `.rounded`, etc.).
- Using `@apply` to bake token utilities into CSS.
- Mixing layout and tokens in the same place (e.g., padding in CSS, or grid in HTML).
- Duplicating similar markup instead of using `@for` with data models.

üëâ In short: Layout in CSS, design style in components, tokens in global `styles.css` ‚Äî data drives the rest.


