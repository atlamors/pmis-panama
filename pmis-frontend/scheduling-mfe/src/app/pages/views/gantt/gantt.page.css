@import 'vis-timeline/styles/vis-timeline-graph2d.css';

.toolbar {
    display: flex;
    gap: .5rem;
    margin-bottom: .5rem;
}

/* --- Local tokens (HSL tuples) --- */
:host {
    /* do NOT re-declare global tokens*/
    --gannt-grid: 220 16% 20%;
    --gannt-accent: 258 90% 66%;
    --gannt-accent-weak: 258 90% 66% / 0.35;

    display: block;
    height: 100%;
    color: hsl(var(--text));
}


/* Page layout */
.gantt {
    height: 100%;
    padding: .75rem;
}

.timeline-root {
    height: 100%;
    background: hsl(var(--surface-1));
    border: 1px solid hsl(var(--border));
    border-radius: 12px;
    box-shadow: 0 12px 30px hsl(var(--shadow));
    overflow: hidden;
}

/* Base vis overrides */
:host ::ng-deep .vis-timeline {
    background: transparent !important;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

/* Panels & borders */
:host ::ng-deep .vis-panel.vis-left,
:host ::ng-deep .vis-panel.vis-center,
:host ::ng-deep .vis-panel.vis-right {
    background: hsl(var(--surface-1));
    border-color: hsl(var(--border));
}

/* Axis + grid */
:host ::ng-deep .vis-time-axis .vis-text {
    color: hsl(var(--muted));
    font-size: 12px;
}

:host ::ng-deep .vis-time-axis .vis-grid.vis-vertical {
    background-color: hsl(var(--grid));
    opacity: .25;
}

:host ::ng-deep .vis-time-axis .vis-grid.vis-minor {
    opacity: .12;
}

/* Current time + custom time lines */
:host ::ng-deep .vis-current-time,
:host ::ng-deep .vis-custom-time {
    background-color: hsl(var(--accent));
}

/* Group labels */
:host ::ng-deep .vis-labelset .vis-label {
    background: hsl(var(--surface-1));
    border-color: hsl(var(--border));
}

:host ::ng-deep .vis-labelset .vis-label .vis-inner {
    color: hsl(var(--muted));
    padding: .5rem .75rem;
    font-weight: 500;
}

/* Items */
:host ::ng-deep .vis-item {
    background: hsl(var(--surface-2));
    border-color: hsl(213 25% 27%);
    /* was #334155 */
    color: hsl(var(--text));
    border-radius: 10px;
    padding: 6px 10px;
    line-height: 1.2;
    box-shadow: 0 4px 14px hsl(0 0% 0% / .25);
}

:host ::ng-deep .vis-item:hover {
    filter: brightness(1.06);
    transform: translateY(-1px);
    transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
    box-shadow: 0 10px 24px hsl(0 0% 0% / .35);
}

/* Vessel accent */
:host ::ng-deep .vis-item.vessel {
    background: linear-gradient(180deg,
            hsl(var(--accent) / 0.18),
            hsl(var(--accent) / 0.08));
    border-color: hsl(var(--accent) / 0.55);
}

/* Selection */
:host ::ng-deep .vis-item.vis-selected {
    border-color: hsl(var(--accent));
    box-shadow:
        0 0 0 2px hsl(var(--accent-weak)),
        0 14px 32px hsl(0 0% 0% / .45);
}

/* Row dividers â€” dashed at ~20% opacity (apply to labels and groups) */
:host ::ng-deep .vis-itemset .vis-group,
:host ::ng-deep .vis-labelset .vis-label {
    border-bottom: 1px dashed hsl(var(--muted) / 0.2) !important;
}

:host ::ng-deep .vis-itemset .vis-group:last-child,
:host ::ng-deep .vis-labelset .vis-label:last-child {
    border-bottom: none !important;
}

/* Alternating background columns (provided by directive) */
:host ::ng-deep .vis-item.vis-background.bg-col-odd {
    background: hsl(0 0% 100% / 0.03);
}

:host ::ng-deep .vis-item.vis-background.bg-col-even {
    background: hsl(0 0% 100% / 0.06);
}

/* Z-order safety */
:host ::ng-deep .vis-foreground .vis-item,
:host ::ng-deep .vis-foreground .vis-range {
    position: relative;
    z-index: 2;
}

:host ::ng-deep .vis-background .vis-item {
    z-index: 1;
}

/* Scrollbars (webkit) */
:host ::ng-deep .vis-panel::-webkit-scrollbar,
:host ::ng-deep .vis-content::-webkit-scrollbar {
    height: 10px;
    width: 10px;
}

:host ::ng-deep .vis-panel::-webkit-scrollbar-thumb,
:host ::ng-deep .vis-content::-webkit-scrollbar-thumb {
    background: hsl(221 20% 21%);
    /* was #2b3240 */
    border-radius: 999px;
    border: 2px solid transparent;
    background-clip: padding-box;
}

:host ::ng-deep .vis-panel::-webkit-scrollbar-track,
:host ::ng-deep .vis-content::-webkit-scrollbar-track {
    background: transparent;
}