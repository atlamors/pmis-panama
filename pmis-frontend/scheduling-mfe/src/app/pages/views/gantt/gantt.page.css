@import 'vis-timeline/styles/vis-timeline-graph2d.css';

.toolbar {
    display: flex;
    gap: .5rem;
    margin-bottom: .5rem;
}

/* --- Local tokens (HSL tuples) --- */
:host {
    /* do NOT re-declare global tokens*/
    --gantt-grid: 220 16% 20%;
    --gantt-grid-minor: 220 16% 20%;
    --gantt-grid-major: 220 16% 20%;
    --gantt-accent: 258 90% 66%;
    --gantt-accent-weak: 258 90% 66% / 0.35;

    display: block;
    height: 100%;
    color: hsl(var(--text));
}

/* page layout */
.gantt {
    height: 100%;
    padding: .75rem;
}

.timeline-root {
    background: hsl(var(--bg));
    border-radius: var(--r-default);
    overflow: hidden;
}

/* make outlet child fill */
:host ::ng-deep .vis-timeline {
    background: transparent !important;
    border: none !important;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
}

/* panels & borders */
:host ::ng-deep .vis-panel.vis-left,
:host ::ng-deep .vis-panel.vis-center,
:host ::ng-deep .vis-panel.vis-right {
    background: hsl(var(--surface-1));
    border-color: hsl(var(--border));
}

/* axis + grid */
:host ::ng-deep .vis-time-axis .vis-text {
    color: hsl(var(--muted));
    font-size: 12px;
}

:host ::ng-deep .vis-time-axis .vis-grid.vis-vertical {
    background-color: hsl(var(--gantt-grid));
    opacity: .25;
}

:host ::ng-deep .vis-time-axis .vis-grid.vis-minor {
    opacity: .12;
}

/* current time + custom time lines */
:host ::ng-deep .vis-current-time,
:host ::ng-deep .vis-custom-time {
    background-color: hsl(var(--gantt-accent));
}

/* group labels */
:host ::ng-deep .vis-labelset .vis-label {
    background: hsl(var(--surface-1));
    border-color: hsl(var(--border));
}

:host ::ng-deep .vis-labelset .vis-label .vis-inner {
    color: hsl(var(--muted));
    padding: .5rem .75rem;
    font-weight: 500;
}

/* items: rounded, subtle gloss, compact text */
:host ::ng-deep .vis-item {
    background: hsl(var(--surface-2));
    border-color: hsl(213 25% 27%);
    /* #334155 */
    color: hsl(var(--text));
    border-radius: 10px;
    padding: 6px 10px;
    line-height: 1.2;
    box-shadow: 0 4px 14px hsl(0 0% 0% / .25);
}

:host ::ng-deep .vis-item:hover {
    filter: brightness(1.06);
    transform: translateY(-1px);
    transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
    box-shadow: 0 10px 24px hsl(0 0% 0% / .35);
}

/* vessel accent (your className: 'vessel') */
:host ::ng-deep .vis-item.vessel {
    background: linear-gradient(180deg,
            hsl(var(--gantt-accent) / 0.18),
            hsl(var(--gantt-accent) / 0.08));
    border-color: hsl(var(--gantt-accent) / 0.55);
}

/* selection state */
:host ::ng-deep .vis-item.vis-selected {
    border-color: hsl(var(--gantt-accent));
    box-shadow:
        0 0 0 2px hsl(var(--gantt-accent-weak)),
        0 14px 32px hsl(0 0% 0% / .45);
}

/* keep rows tidy */
:host ::ng-deep .vis-itemset .vis-group {
    border-color: hsl(var(--border));
}

:host ::ng-deep .vis-item-overflow {
    color: hsl(var(--muted));
}

/* scrollbars (webkit) */
:host ::ng-deep .vis-panel::-webkit-scrollbar,
:host ::ng-deep .vis-content::-webkit-scrollbar {
    height: 10px;
    width: 10px;
}

:host ::ng-deep .vis-panel::-webkit-scrollbar-thumb,
:host ::ng-deep .vis-content::-webkit-scrollbar-thumb {
    background: hsl(221 20% 21%);
    /* #2b3240 */
    border-radius: 999px;
    border: 2px solid transparent;
    background-clip: padding-box;
}

:host ::ng-deep .vis-panel::-webkit-scrollbar-track,
:host ::ng-deep .vis-content::-webkit-scrollbar-track {
    background: transparent;
}

:host ::ng-deep .vis-panel.vis-top {
    border-left: none !important;
}

:host ::ng-deep .vis-time-axis .vis-grid.vis-major {
    border-color: hsl(var(--gantt-grid-major));
 }

:host ::ng-deep .vis-time-axis .vis-grid.vis-minor {
   border-color: hsl(var(--gantt-grid-minor));
}

:host ::ng-deep .vis-background .vis-time-axis .vis-vertical.vis-odd {
    background: hsl(0 0% 100% / 0);
}

:host ::ng-deep .vis-background .vis-time-axis .vis-vertical.vis-even {
    background: hsl(0 0% 100% / 0.06);
}

/* operational-overlays plugin styles */

/* Make overlays non-interactive so panning/zooming is smooth everywhere */
:host ::ng-deep .vis-item.vis-background,
:host ::ng-deep .vis-item.vis-background * {
  pointer-events: none !important;
}

/* Maintenance (red) */
:host ::ng-deep .vis-item.vis-background.bg-maintenance {
  background: rgba(220, 38, 38, 0.22);
  box-shadow: inset 0 0 0 1px rgba(220, 38, 38, 0.35);
}
:host ::ng-deep .vis-item.vis-background.bg-maintenance .vis-item-content {
  font-size: 12px;
  font-weight: 600;
  padding: 2px 6px;
  border-radius: 6px;
  background: rgba(220, 38, 38, 0.25);
  color: #fecaca;
  position: absolute;
  top: 6px;
  left: 8px;
}

/* Tide window (blue) */
:host ::ng-deep .vis-item.vis-background.bg-tide {
  background: rgba(59, 130, 246, 0.18);
  box-shadow: inset 0 0 0 1px rgba(59, 130, 246, 0.28);
}

/* Alerts by kind (lane-level) */
:host ::ng-deep .vis-item.alert-capacity .vis-item-content,
:host ::ng-deep .vis-item.alert-lowWater .vis-item-content,
:host ::ng-deep .vis-item.alert-safety .vis-item-content {
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 6px;
}